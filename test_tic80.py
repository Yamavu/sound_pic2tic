import pytest
from pathlib import Path
from argparse import Namespace
from sound_tic80 import Tic80sfx,Tic80sfxFlags

@pytest.fixture
def sfx() -> str:
    sfx =   "0400" + "0401" + "0402" + "1403" + "1404" + "2405" + "2406" + "3407" + "4408" + "6400" + \
            "7400" + "8400" + "a400" + "b400" + "c400" + "d400" + "e400" + "e400" + "f400" + "f400" + \
            "f400" + "f400" + "f400" + "f400" + "f400" + "f400" + "f400" + "f400" + "f400" + "f400" + \
            "4020" + "0062" + "0000"
            #4820 0062 3900
@pytest.fixture
def pattern() -> str:
    return "000000" + "500006" + "000000" + "000000" + "000000" + "c00006" + "000000" + "000000" + \
           "000000" + "000000" + "c00008" + "000000" + "000000" + "a00008" + "000000" + "000000" + \
           "900008" + "000000" + "000000" + "a00008" + "000000" + "000000" + "000000" + "000000" + \
           "500006" + "000000" + "000000" + "400006" + "000000" + "000000" + "000000" + "600006" + \
           "000000" + "000000" + "000000" + "c00006" + "000000" + "000000" + "900006" + "000000" + \
           "000000" + "b00006" + "000000" + "000000" + "d00006" + "000000" + "000000" + "b00006" + \
           "000000" + "000000" + "000000" + "900006" + "000000" + "000000" + "c00006" + "000000" + \
           "000000" + "b00006" + "000000" + "000000" + "000000" + "400006" + "000000" + "000000"
@pytest.fixture
def track():
    return "10fb30000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
@pytest.fixture
def wave_box() -> str:
    return "00000000ffffffff00000000ffffffff"

def text_sfxflags(sfx):
    print(sfx[-13:-1])
    flags = Tic80sfxFlags.from_str(sfx[-13:-1])
    assert (flags is not None)
